[gd_scene load_steps=16 format=3 uid="uid://cv5kifmiko3rv"]

[ext_resource type="PackedScene" uid="uid://cegcdd5xqqw3q" path="res://shaders/post_process.tscn" id="1_8ksxa"]
[ext_resource type="PackedScene" uid="uid://b1rdfvdglybqv" path="res://player/player.tscn" id="2_dtir2"]
[ext_resource type="PackedScene" uid="uid://7q3h73glx305" path="res://enemy/enemy_spawner.tscn" id="3_0e8c0"]
[ext_resource type="PackedScene" uid="uid://cg4rewyg0240p" path="res://enemy/guy_enemy.tscn" id="4_4w2yv"]
[ext_resource type="PackedScene" uid="uid://cii4fs0hd3iix" path="res://enemy/police_enemy.tscn" id="5_uqe5y"]
[ext_resource type="PackedScene" uid="uid://idku8ihkmsn0" path="res://enemy/mech_enemy.tscn" id="6_y0h1n"]
[ext_resource type="MeshLibrary" uid="uid://dyhdq48mttuoe" path="res://level/PlanesMeshLib.tres" id="7_81e45"]
[ext_resource type="PackedScene" uid="uid://dgnb0bogvajfh" path="res://enemy/bigger_mech_enemy.tscn" id="7_bvi7h"]
[ext_resource type="AudioStream" uid="uid://divxl1hwn4t4e" path="res://assets/Sounds/Music/cosmic_combatants_asset_pack.ogg" id="8_61pk8"]
[ext_resource type="PackedScene" uid="uid://cmqmjxs0bf5vc" path="res://enemy/moth_enemy.tscn" id="8_daep0"]
[ext_resource type="PackedScene" uid="uid://c72jp1xwxl6hd" path="res://assets/Tileset/TILESET.glb" id="9_4x4jr"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_dnfjm"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_ohamh"]
sky_material = SubResource("ProceduralSkyMaterial_dnfjm")

[sub_resource type="Environment" id="Environment_5og46"]
sky = SubResource("Sky_ohamh")
ambient_light_source = 2
ambient_light_color = Color(0.347817, 0.347817, 0.347817, 1)
reflected_light_source = 1

[sub_resource type="NavigationMesh" id="NavigationMesh_vnid2"]
vertices = PackedVector3Array(-9938.5, -0.0158, 4.5, -188.5, -0.0158, 4.5, -188.5, -0.0158, -145.5, 11.5, -0.0158, -195.5, 11.5, -0.0158, -9945.5, -9938.5, -0.0158, -9945.5, 161.5, -0.0158, -195.5, 211.5, -0.0158, 4.5, 9961.5, -0.0158, 4.5, 9961.5, -0.0158, -9945.5, -88.5, 0.4842, -95.5, -88.5, 0.4842, 154.5, 111.5, 0.4842, 154.5, 111.5, 0.4842, -95.5, 11.5, -0.0158, 9954.5, 11.5, -0.0158, 254.5, -188.5, -0.0158, 204.5, -9938.5, -0.0158, 9954.5, 211.5, -0.0158, 204.5, 9961.5, -0.0158, 9954.5)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(3, 2, 4), PackedInt32Array(4, 2, 5), PackedInt32Array(5, 2, 0), PackedInt32Array(6, 3, 4), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(9, 6, 4), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(16, 17, 0), PackedInt32Array(0, 1, 16), PackedInt32Array(18, 7, 8), PackedInt32Array(15, 18, 14), PackedInt32Array(14, 18, 19), PackedInt32Array(19, 18, 8)]
cell_size = 50.0

[node name="Game" type="Node3D"]

[node name="PostProcess" parent="." instance=ExtResource("1_8ksxa")]
transform = Transform3D(-0.665712, 0, -0.746208, 0, 1, 0, 0.746208, 0, -0.665712, 0, 0, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5og46")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0.053384, 0.417065, 0.907308, -0.497145, 0.799096, -0.338072, 0, 0, 0)
shadow_enabled = true
directional_shadow_max_distance = 15.0
directional_shadow_pancake_size = 4.0
sky_mode = 1

[node name="Player" parent="." instance=ExtResource("2_dtir2")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_vnid2")

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.9606, -1.2658, 18.7926)
use_collision = true
size = Vector3(278.701, 1, 290.634)

[node name="Enemy Spawner" parent="NavigationRegion3D" groups=["Enemy"] instance=ExtResource("3_0e8c0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.124481, 0)
SpawnRange = 30.0
Enabled = true
Wave2 = Array[PackedScene]([ExtResource("5_uqe5y"), ExtResource("4_4w2yv")])
Wave3 = Array[PackedScene]([ExtResource("6_y0h1n"), ExtResource("5_uqe5y"), ExtResource("4_4w2yv")])
Wave5 = Array[PackedScene]([ExtResource("7_bvi7h"), ExtResource("6_y0h1n")])
Wave8 = Array[PackedScene]([ExtResource("7_bvi7h"), ExtResource("8_daep0")])
Wave9 = Array[PackedScene]([ExtResource("7_bvi7h"), ExtResource("8_daep0")])
Wave10 = Array[PackedScene]([ExtResource("7_bvi7h"), ExtResource("8_daep0")])
SpawnInterval = 2

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
mesh_library = ExtResource("7_81e45")
cell_size = Vector3(1, 0.1, 1)
cell_center_y = false
bake_navigation = true
data = {
"cells": PackedInt32Array(-65505, 65530, 1, -8, 65530, 1, -8, 42, 1, -65505, 42, 1, -8, 65482, 1, -65505, 65482, 1, 65531, 0, 0, 65478, 42, 1, 65478, 65528, 1, 65479, 65482, 1, 65478, 65482, 1, 65478, 92, 1, 65501, 65510, 1441793, 65503, 19, 1441793, 65508, 40, 1441793, 65525, 92, 1441793, 31, 91, 1441793, 81, 91, 1441793, 81, 41, 1441793, 81, 65527, 1441793, 81, 65482, 1441793, 65429, 92, 1441793, 65429, 44, 1441793, 65429, 65533, 1441793, 65429, 65486, 1441793, 65430, 65482, 1441793, 34, 92, 1441793, 81, 92, 1441793, 65429, 141, 1441793, 65478, 141, 1, 65524, 141, 1, 37, 141, 1, 81, 141, 1, 128, 141, 1, 128, 93, 1, 128, 44, 1, 128, 65530, 1, 128, 65482, 1, 128, 65432, 1, 59, 1, 1, 59, 2, 1, 59, 3, 1, 58, 4, 1, 58, 5, 1, 58, 6, 1, 59, 7, 1, 59, 9, 1, 59, 12, 1, 59, 14, 1, 59, 17, 1, 59, 21, 1, 60, 26, 1, 60, 30, 1, 61, 34, 1, 60, 36, 1, 59, 38, 1, 59, 41, 1, 58, 43, 1, 57, 45, 1, 58, 47, 1, 57, 49, 1, 57, 50, 1, 56, 52, 1, 57, 53, 1, 56, 55, 1, 55, 58, 1, 54, 60, 1, 54, 62, 1, 53, 63, 1, 52, 65, 1, 50, 67, 1, 48, 68, 1, 46, 70, 1, 44, 71, 1, 40, 72, 1, 37, 72, 1, 33, 72, 1, 29, 73, 1, 23, 72, 1, 16, 72, 1, 9, 71, 1, 2, 70, 1, 65531, 68, 1, 65515, 66, 1, 65508, 66, 1, 65501, 65, 1, 65496, 64, 1, 65493, 64, 1, 65490, 63, 1, 65486, 63, 1, 65481, 63, 1, 65475, 63, 1, 65470, 63, 1, 65467, 62, 1, 65465, 62, 1, 65464, 62, 1, 65463, 62, 1, 65463, 61, 1, 65462, 61, 1, 65463, 60, 1, 65462, 60, 1, 65462, 59, 1, 48, 65487, 1, 49, 65488, 1, 50, 65488, 1, 50, 65489, 1, 50, 65490, 1, 51, 65492, 1, 53, 65495, 1, 54, 65498, 1, 55, 65501, 1, 57, 65504, 1, 58, 65508, 1, 58, 65511, 1, 59, 65515, 1, 59, 65518, 1, 59, 65521, 1, 59, 65524, 1, 59, 65527, 1, 59, 65530, 1, 59, 65531, 1, 59, 65529, 1, 59, 65528, 1, 60, 65526, 1, 61, 65524, 1, 62, 65520, 1, 61, 65514, 1, 60, 65509, 1, 58, 65504, 1, 57, 65502, 1, 57, 65501, 1, 56, 65501, 1, 55, 65499, 1, 53, 65496, 1, 52, 65495, 1, 52, 65494, 1, 51, 65493, 1, 51, 65491, 1, 50, 65491, 1, 78, 65432, 1, 32, 65432, 1, 65520, 65432, 1, 65472, 65432, 1, 65429, 65432, 1, 65429, 65447, 1, 65520, 65485, 1, 65529, 65488, 1, 2, 65490, 1, 13, 65494, 1, 28, 65498, 1, 42, 65503, 1, 54, 65508, 1, 62, 65511, 1, 66, 65513, 1, 67, 65515, 1, 68, 65516, 1, 64, 65518, 1, 59, 65519, 1, 49, 65521, 1, 36, 65522, 1, 20, 65522, 1, 65533, 65520, 1, 65519, 65518, 1, 65510, 65517, 1, 65508, 65516, 1, 65510, 65516, 1, 65521, 65517, 1, 3, 65520, 1, 47, 65527, 1, 70, 65532, 1, 84, 65535, 1, 90, 1, 1, 91, 2, 1, 87, 2, 1, 78, 4, 1, 65, 6, 1, 47, 7, 1, 28, 8, 1, 10, 9, 1, 65533, 11, 1, 65523, 12, 1, 65516, 13, 1, 65514, 13, 1, 65518, 13, 1, 65528, 15, 1, 12, 19, 1, 40, 25, 1, 76, 31, 1, 106, 37, 1, 126, 41, 1, 132, 44, 1, 129, 44, 1, 116, 46, 1, 94, 47, 1, 63, 45, 1, 30, 43, 1, 5, 40, 1, 65524, 39, 1, 65515, 38, 1, 65511, 38, 1, 65509, 38, 1, 65510, 38, 1, 65513, 38, 1, 65522, 39, 1, 65534, 41, 1, 19, 46, 1, 36, 50, 1, 46, 51, 1, 48, 52, 1, 42, 51, 1, 30, 49, 1, 11, 46, 1, 65529, 44, 1, 65511, 42, 1, 65499, 40, 1, 65493, 39, 1, 65492, 39, 1, 65495, 39, 1, 65500, 40, 1, 65506, 41, 1, 65512, 42, 1, 65516, 43, 1, 65517, 43, 1, 65518, 43, 1, 65515, 43, 1, 65513, 44, 1, 65507, 45, 1, 65499, 46, 1, 65493, 47, 1, 65488, 49, 1, 65487, 50, 1, 65489, 50, 1, 65499, 52, 1, 65519, 55, 1, 4, 60, 1, 22, 63, 1, 33, 64, 1, 36, 64, 1, 35, 64, 1, 18, 66, 1, 6, 66, 1, 65528, 68, 1, 65518, 68, 1, 65517, 68, 1, 65524, 70, 1, 65534, 71, 1, 13, 74, 1, 32, 74, 1, 44, 75, 1, 52, 75, 1, 55, 76, 1, 56, 76, 1, 50, 77, 1, 38, 78, 1, 21, 77, 1, 1, 77, 1, 65522, 79, 1, 65510, 81, 1, 65504, 82, 1, 65501, 83, 1, 65500, 84, 1, 65503, 84, 1, 65508, 85, 1, 65514, 87, 1, 65521, 89, 1, 65529, 92, 1, 3, 94, 1, 11, 95, 1, 21, 96, 1, 29, 96, 1, 36, 96, 1, 37, 95, 1, 33, 94, 1, 23, 92, 1, 5, 87, 1, 65519, 81, 1, 65497, 73, 1, 65482, 66, 1, 65480, 63, 1, 65483, 61, 1, 65493, 57, 1, 65508, 49, 1, 65530, 37, 1, 18, 22, 1, 37, 15, 1, 46, 11, 1, 47, 8, 1, 43, 3, 1, 36, 65535, 1, 24, 65534, 1, 13, 65533, 1, 5, 65533, 1, 3, 65532, 1, 7, 65530, 1, 13, 65528, 1, 23, 65523, 1, 33, 65520, 1, 43, 65514, 1, 50, 65509, 1, 50, 65506, 1, 49, 65504, 1, 44, 65502, 1, 33, 65498, 1, 18, 65493, 1, 3, 65487, 1, 65528, 65481, 1, 65521, 65475, 1, 65520, 65473, 1, 65521, 65473, 1, 65522, 65473, 1, 65526, 65474, 1, 65533, 65474, 1, 2, 65474, 1, 131069, 65535, 0, 131068, 65535, 0, 131068, 0, 0, 131067, 0, 0, 131066, 0, 0, 131065, 1, 0, 131065, 2, 0, 131064, 3, 0, 131064, 4, 0, 131063, 5, 0, 131063, 6, 0, 131062, 6, 0, 131061, 6, 0, 131066, 1, 0, 131063, 4, 0, 131062, 7, 0, 131061, 7, 0, 131061, 8, 0, 131060, 9, 0, 131059, 10, 0, 131059, 11, 0, 131059, 12, 0, 131058, 12, 0, 131058, 13, 0, 131057, 14, 0, 131057, 15, 0, 131056, 16, 0, 131056, 17, 0, 131055, 18, 0, 131054, 19, 0, 131054, 20, 0, 131054, 21, 0, 131053, 23, 0, 131053, 24, 0, 131053, 25, 0, 131052, 26, 0, 131052, 27, 0, 131052, 28, 0, 131052, 29, 0, 131051, 29, 0, 131051, 30, 0, 131051, 31, 0, 131051, 32, 0, 131050, 33, 0, 131050, 34, 0, 131049, 35, 0, 131049, 36, 0, 131048, 37, 0, 131048, 38, 0, 131048, 40, 0, 131048, 41, 0, 131047, 42, 0, 131047, 43, 0, 131047, 44, 0, 131047, 45, 0, 131046, 46, 0, 131047, 47, 0, 131046, 48, 0, 131046, 49, 0, 131046, 50, 0, 131046, 51, 0, 131046, 52, 0, 131046, 53, 0, 131046, 54, 0, 131045, 55, 0, 131045, 56, 0, 131045, 57, 0, 131045, 58, 0, 131045, 60, 0, 131045, 61, 0, 131044, 61, 0, 131045, 62, 0, 131045, 63, 0, 131046, 63, 0, 131046, 64, 0, 131046, 65, 0, 131069, 65534, 0, 131070, 65535, 0, 131070, 0, 0, 131071, 0, 0, 65537, 1, 0, 65539, 2, 0, 65541, 2, 0, 65542, 2, 0, 65543, 2, 0, 65544, 3, 0, 65545, 3, 0, 65546, 4, 0, 65548, 4, 0, 65549, 5, 0, 65550, 5, 0, 65552, 6, 0, 65554, 7, 0, 65556, 7, 0, 65558, 8, 0, 65559, 8, 0, 65561, 8, 0, 65562, 7, 0, 65563, 7, 0, 65565, 6, 0, 65566, 6, 0, 65567, 6, 0, 65568, 6, 0, 65569, 6, 0, 65570, 6, 0, 65571, 6, 0, 65572, 6, 0, 65573, 6, 0, 65574, 6, 0, 65575, 6, 0, 65577, 6, 0, 65578, 7, 0, 65579, 7, 0, 65580, 7, 0, 65581, 7, 0, 65583, 7, 0, 65584, 7, 0, 65586, 7, 0, 65588, 7, 0, 65590, 7, 0, 65591, 7, 0, 65592, 6, 0, 65594, 6, 0, 65595, 6, 0, 65596, 6, 0, 65598, 6, 0, 65600, 6, 0, 65601, 5, 0, 65603, 6, 0, 65605, 5, 0, 65607, 5, 0, 65610, 5, 0, 65613, 4, 0, 65614, 4, 0, 65615, 4, 0, 65537, 0, 0, 65538, 65535, 0, 65539, 65534, 0, 65540, 65532, 0, 65540, 65530, 0, 65541, 65528, 0, 65541, 65526, 0, 65541, 65525, 0, 65541, 65524, 0, 65541, 65522, 0, 65541, 65521, 0, 65542, 65519, 0, 65542, 65518, 0, 65543, 65516, 0, 65543, 65515, 0, 65543, 65513, 0, 65543, 65512, 0, 65543, 65511, 0, 65543, 65509, 0, 65543, 65508, 0, 65542, 65506, 0, 65542, 65505, 0, 65542, 65503, 0, 65541, 65502, 0, 65541, 65500, 0, 65539, 65499, 0, 65538, 65497, 0, 65537, 65496, 0, 65536, 65494, 0, 131070, 65492, 0, 131069, 65491, 0, 131068, 65489, 0, 131067, 65488, 0, 131066, 65487, 0, 131065, 65485, 0, 131064, 65484, 0, 131063, 65482, 0, 131062, 65481, 0, 131061, 65479, 0, 131060, 65477, 0, 131058, 65475, 0, 131057, 65473, 0, 131055, 65470, 0, 131054, 65468, 0, 131053, 65467, 0, 131052, 65465, 0, 131051, 65464, 0, 131051, 65462, 0, 65538, 2, 0, 65538, 3, 0, 65539, 3, 0, 65539, 4, 0, 65539, 5, 0, 65539, 6, 0, 65540, 7, 0, 65540, 8, 0, 65540, 10, 0, 65541, 12, 0, 65541, 13, 0, 65541, 14, 0, 65542, 15, 0, 65543, 16, 0, 65544, 18, 0, 65547, 20, 0, 65548, 21, 0, 65550, 23, 0, 65551, 24, 0, 65552, 25, 0, 65554, 26, 0, 65555, 27, 0, 65556, 28, 0, 65557, 29, 0, 65557, 30, 0, 65558, 31, 0, 65559, 33, 0, 65560, 34, 0, 65561, 36, 0, 65562, 38, 0, 65563, 40, 0, 65565, 42, 0, 65566, 44, 0, 65568, 46, 0, 65569, 48, 0, 65570, 50, 0, 65570, 51, 0, 65571, 53, 0, 65572, 55, 0, 65574, 58, 0, 65576, 60, 0, 65577, 62, 0, 65578, 64, 0, 65579, 66, 0, 65581, 69, 0, 65583, 71, 0, 65584, 73, 0, 65586, 74, 0, 65587, 75, 0, 65590, 76, 0, 65591, 79, 0, 65594, 81, 0, 65595, 81, 0, 65596, 82, 0, 65597, 83, 0, 65598, 83, 0, 65599, 83, 0, 65600, 83, 0, 65592, 80, 0, 65593, 80, 0, 65592, 79, 0, 65591, 78, 0, 65591, 77, 0, 65590, 77, 0, 65589, 76, 0, 65588, 76, 0, 65588, 75, 0, 65587, 74, 0, 65585, 74, 0, 65585, 73, 0, 65584, 72, 0, 65583, 72, 0, 65582, 71, 0, 65582, 70, 0, 65582, 69, 0, 65581, 68, 0, 65581, 67, 0, 65580, 67, 0, 65580, 66, 0, 65580, 65, 0, 65579, 65, 0, 65579, 64, 0, 65578, 63, 0, 65577, 63, 0, 65576, 61, 0, 65575, 59, 0, 65575, 58, 0, 65574, 57, 0, 65574, 56, 0, 65573, 56, 0, 65573, 55, 0, 65573, 54, 0, 65572, 53, 0, 65572, 52, 0, 65572, 51, 0, 65571, 51, 0, 65571, 50, 0, 65570, 49, 0, 65570, 48, 0, 65569, 47, 0, 65569, 46, 0, 65568, 45, 0, 65567, 44, 0, 65567, 43, 0, 65566, 42, 0, 65566, 41, 0, 65565, 40, 0, 65565, 39, 0, 65564, 39, 0, 65564, 38, 0, 65564, 37, 0, 65563, 37, 0, 65563, 36, 0, 65562, 36, 0, 65562, 35, 0, 65561, 35, 0, 65561, 34, 0, 65560, 33, 0, 65559, 32, 0, 65559, 31, 0, 65558, 30, 0, 65553, 25, 0, 65552, 24, 0, 65552, 23, 0, 65551, 23, 0, 65550, 21, 0, 65549, 20, 0, 65549, 19, 0, 65548, 19, 0, 65547, 18, 0, 65547, 17, 0, 65546, 17, 0, 65545, 16, 0, 65544, 16, 0, 65544, 17, 0, 65551, 21, 0, 65550, 20, 0, 65546, 18, 0, 65545, 18, 0, 65545, 17, 0, 65546, 19, 0, 131051, 65460, 0, 131051, 65459, 0, 131051, 65458, 0, 131051, 65457, 0, 131050, 65457, 0, 131050, 65456, 0, 131050, 65455, 0, 131050, 65454, 0, 131050, 65453, 0, 131050, 65452, 0, 131049, 65451, 0, 131050, 65451, 0, 131049, 65450, 0, 131049, 65449, 0, 131049, 65448, 0, 131049, 65447, 0, 131049, 65446, 0, 131049, 65445, 0, 131048, 65445, 0, 131048, 65444, 0, 131048, 65443, 0, 131048, 65442, 0, 131048, 65441, 0, 131047, 65441, 0, 131048, 65440, 0, 131047, 65440, 0, 131047, 65439, 0, 131047, 65438, 0, 131046, 65437, 0, 131046, 65436, 0, 131046, 65435, 0, 131045, 65434, 0, 131045, 65433, 0, 131045, 65432, 0, 131044, 65432, 0, 131044, 65431, 0, 131044, 65430, 0, 131044, 65429, 0, 131043, 65429, 0, 131043, 65428, 0, 131043, 65427, 0, 131043, 65426, 0, 131042, 65426, 0, 131042, 65425, 0, 131042, 65424, 0, 131042, 65423, 0, 131041, 65423, 0, 131041, 65422, 0, 131041, 65421, 0, 131040, 65420, 0, 131040, 65419, 0, 131040, 65418, 0, 131039, 65417, 0, 131046, 67, 0, 131047, 69, 0, 131049, 71, 0, 131054, 74, 0, 131048, 76, 0, 131056, 78, 0, 131062, 108, 0, 65552, 120, 0, 131067, 95, 0, 65552, 98, 0, 131051, 91, 0, 131064, 86, 0, 65548, 81, 0, 65605, 49, 0, 65585, 29, 0, 65587, 42, 0, 65599, 35, 0, 65564, 25, 0, 131068, 28, 0, 131010, 24, 0, 131005, 65507, 0, 130987, 65477, 0, 131002, 65440, 0)
}
metadata/_editor_floor_ = Vector3(0, -3, 0)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("8_61pk8")
autoplay = true

[node name="TILESET" parent="." instance=ExtResource("9_4x4jr")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 125.826, -0.18, 5183.39)
